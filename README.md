# rest-api
Тестовое задание для kt.team

## Инструкция по запуску приложения

1. Из корневой директории проекта выполнить команду `composer install` для установки необходимых библиотек.
2. Скорректировать настройки подключения к базе данных в файле `.env`: `DATABASE_URL=mysql://user:password@127.0.0.1:3306/db_name`.
3. Из корневой директории проекта выполнить команду `php bin/console doctrine:migrations:migrate` для миграции базы данных.
4. Из директории `public` выполнить команду `php -S 127.0.0.1:8000` для запуска сервера.
5. В браузере перейти по адресу `http://127.0.0.1:8000/`.

## Документация по API

API реализует следующие методы запросов HTTP:
* GET
* POST
* PUT
* DELETE

Для проверки работоспособности всех методов рекомендуется использовать специальное расширение (например, [Talend API Tester](https://chrome.google.com/webstore/detail/talend-api-tester-free-ed/aejoelaoggembcahagimdiliamlcdmfm?hl=ru) для Google Chrome). Для добавления и обновления данных в формах необходимо использовать имена полей из раздела [Поля сущностей](#Поля-сущностей).

### Ресурсы

#### GET

* `http://127.0.0.1:8000/users` - возвращает список пользователей
* `http://127.0.0.1:8000/users/{id}` - возвращает пользователя по заданному id
* `http://127.0.0.1:8000/tasks` - возвращает список задач
* `http://127.0.0.1:8000/tasks/{id}` - возвращает задачу по заданному id 
* `http://127.0.0.1:8000/filter/?user_id={id}&deadline={date}` - возвращает задачи, удовлетворяющие параметрам фильтра (`{date}` должен быть в формате `гггг-мм-дд`)

#### POST

* `http://127.0.0.1:8000/users` - добавляет пользователя
* `http://127.0.0.1:8000/tasks` - добавляет задачу

#### PUT

* `http://127.0.0.1:8000/users/{id}` - обновляет пользователя по заданному id
* `http://127.0.0.1:8000/tasks/{id}` - обновляет задачу по заданному id

#### DELETE

* `http://127.0.0.1:8000/users/{id}` - удаляет пользователя по заданному id
* `http://127.0.0.1:8000/tasks/{id}` - удаляет задачу по заданному id

### Поля сущностей

#### user

* `first_name` - имя пользователя
* `last_name` - фамилия пользователя

#### task

* `title` - текст задачи
* `deadline` - срок задачи
* `user_id` - id пользователя




